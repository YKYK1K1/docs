(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{763:function(n,e,a){"use strict";a.r(e);var o=a(67),s=Object(o.a)({},(function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h1",{attrs:{id:"maven-模块化开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maven-模块化开发"}},[n._v("#")]),n._v(" "),a("strong",[n._v("Maven 模块化开发")])]),n._v(" "),a("h2",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[n._v("#")]),n._v(" "),a("strong",[n._v("概述")])]),n._v(" "),a("p",[n._v("在多人协同开发时，特别是规模较大的项目，为了方便日后的代码维护和管理，我们会将每个开发人员的工作细分到具体的功能和模块上。随着项目的不断扩大，模块也会越来越多，后续会更加难以维护和扩展，为了应对这种情况后期我们还会采用微服务架构的方式进行开发。")]),n._v(" "),a("p",[n._v("以当前教程为例，我们可以将模块划分为如下形式：")]),n._v(" "),a("ul",[a("li",[n._v("统一的依赖管理（dependencies）")]),n._v(" "),a("li",[n._v("通用的工具类（commons）")]),n._v(" "),a("li",[n._v("领域模型（domain）")]),n._v(" "),a("li",[n._v("管理后台（admin）")]),n._v(" "),a("li",[n._v("商城前端（ui）")]),n._v(" "),a("li",[n._v("接口模块（api）")])]),n._v(" "),a("p",[n._v("整个模块化开发过程主要是在开发思想上稍作了一些转变，只需要按照下面的流程操作即可。")]),n._v(" "),a("h2",{attrs:{id:"创建根项目（工程）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建根项目（工程）"}},[n._v("#")]),n._v(" "),a("strong",[n._v("创建根项目（工程）")])]),n._v(" "),a("p",[n._v("创建一个名为 "),a("code",[n._v("my-shop")]),n._v(" 的工程，"),a("code",[n._v("pom.xml")]),n._v(" 文件如下：")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.yky</groupId>\n    <artifactId>my-shop</artifactId>\n    <version>1.0.0-SNAPSHOT</version>\n    <packaging>pom</packaging>\n    \n    <modules>\n    \n    </modules>\n</project>\n')])])]),a("p",[n._v("该项目称之为 Root 项目，主要作用是管理整个工程的全部模块，当有新模块加入时需要在 "),a("code",[n._v("modules")]),n._v(" 元素下配置对应的模块目录")]),n._v(" "),a("h2",{attrs:{id:"创建统一的依赖管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建统一的依赖管理"}},[n._v("#")]),n._v(" "),a("strong",[n._v("创建统一的依赖管理")])]),n._v(" "),a("p",[n._v("创建一个名为 "),a("code",[n._v("-shop-dependencies")]),n._v(" 的项目，"),a("code",[n._v("pom.xml")]),n._v(" 文件如下：")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <parent>\n        <groupId>com.yky</groupId>\n        <artifactId>my-shop</artifactId>\n        <version>1.0.0-SNAPSHOT</version>\n        <relativePath>../pom.xml</relativePath>\n    </parent>\n\n    <artifactId>my-shop-dependencies</artifactId>\n    <packaging>pom</packaging>\n\n    <name>my-shop-dependencies</name>\n    <description></description>\n\n    <properties>\n        \x3c!-- 环境配置 --\x3e\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>\n        <java.version>1.8</java.version>\n\n        \x3c!-- 统一的依赖管理 --\x3e\n        <commons-lang3.version>3.5</commons-lang3.version>\n        <jstl.version>1.2</jstl.version>\n        <log4j.version>1.2.17</log4j.version>\n        <servlet-api.version>3.1.0</servlet-api.version>\n        <slf4j.version>1.7.25</slf4j.version>\n        <spring.version>4.3.17.RELEASE</spring.version>\n    </properties>\n\n    <dependencyManagement>\n        <dependencies>\n            \x3c!-- Spring Begin --\x3e\n            <dependency>\n                <groupId>org.springframework</groupId>\n                <artifactId>spring-context</artifactId>\n                <version>${spring.version}</version>\n            </dependency>\n            <dependency>\n                <groupId>org.springframework</groupId>\n                <artifactId>spring-webmvc</artifactId>\n                <version>${spring.version}</version>\n            </dependency>\n            \x3c!-- Spring End --\x3e\n\n            \x3c!-- Servlet Begin --\x3e\n            <dependency>\n                <groupId>javax.servlet</groupId>\n                <artifactId>javax.servlet-api</artifactId>\n                <version>${servlet-api.version}</version>\n                <scope>provided</scope>\n            </dependency>\n            <dependency>\n                <groupId>javax.servlet</groupId>\n                <artifactId>jstl</artifactId>\n                <version>${jstl.version}</version>\n            </dependency>\n            \x3c!-- Servlet End --\x3e\n\n            \x3c!-- Log Begin --\x3e\n            <dependency>\n                <groupId>org.slf4j</groupId>\n                <artifactId>slf4j-api</artifactId>\n                <version>${slf4j.version}</version>\n            </dependency>\n            <dependency>\n                <groupId>org.slf4j</groupId>\n                <artifactId>slf4j-log4j12</artifactId>\n                <version>${slf4j.version}</version>\n            </dependency>\n            <dependency>\n                <groupId>org.slf4j</groupId>\n                <artifactId>jcl-over-slf4j</artifactId>\n                <version>${slf4j.version}</version>\n            </dependency>\n            <dependency>\n                <groupId>org.slf4j</groupId>\n                <artifactId>jul-to-slf4j</artifactId>\n                <version>${slf4j.version}</version>\n            </dependency>\n            <dependency>\n                <groupId>log4j</groupId>\n                <artifactId>log4j</artifactId>\n                <version>${log4j.version}</version>\n            </dependency>\n            \x3c!-- Log End --\x3e\n\n            \x3c!-- Commons Begin --\x3e\n            <dependency>\n                <groupId>org.apache.commons</groupId>\n                <artifactId>commons-lang3</artifactId>\n                <version>${commons-lang3.version}</version>\n            </dependency>\n            \x3c!-- Commons End --\x3e\n        </dependencies>\n    </dependencyManagement>\n\n    <build>\n        <plugins>\n            \x3c!-- Compiler 插件, 设定 JDK 版本 --\x3e\n            <plugin>\n                <groupId>org.apache.maven.plugins</groupId>\n                <artifactId>maven-compiler-plugin</artifactId>\n                <version>3.7.0</version>\n                <configuration>\n                    <source>${java.version}</source>\n                    <target>${java.version}</target>\n                    <encoding>${project.build.sourceEncoding}</encoding>\n                    <showWarnings>true</showWarnings>\n                </configuration>\n            </plugin>\n        </plugins>\n\n        \x3c!-- 资源文件配置 --\x3e\n        <resources>\n            <resource>\n                <directory>src/main/java</directory>\n                <excludes>\n                    <exclude>**/*.java</exclude>\n                </excludes>\n            </resource>\n            <resource>\n                <directory>src/main/resources</directory>\n            </resource>\n        </resources>\n    </build>\n</project>\n')])])]),a("p",[n._v("PS：别忘记在 "),a("code",[n._v("my-shop")]),n._v(" 工程的 "),a("code",[n._v("pom.xml")]),n._v(" 中增加 "),a("code",[n._v("<module>my-shop-dependencies</module>")]),n._v(" 配置")]),n._v(" "),a("h2",{attrs:{id:"创建通用的工具类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建通用的工具类"}},[n._v("#")]),n._v(" "),a("strong",[n._v("创建通用的工具类")])]),n._v(" "),a("p",[n._v("创建一个名为 "),a("code",[n._v("my-shop-commons")]),n._v(" 的项目，"),a("code",[n._v("pom.xml")]),n._v(" 文件如下：")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <parent>\n        <groupId>com.yky</groupId>\n        <artifactId>my-shop-dependencies</artifactId>\n        <version>1.0.0-SNAPSHOT</version>\n        <relativePath>../my-shop-dependencies/pom.xml</relativePath>\n    </parent>\n\n    <artifactId>my-shop-commons</artifactId>\n    <packaging>jar</packaging>\n\n    <name>my-shop-commons</name>\n    <description></description>\n\n</project>\n')])])]),a("p",[n._v("PS：别忘记在 "),a("code",[n._v("my-shop")]),n._v(" 工程的 "),a("code",[n._v("pom.xml")]),n._v(" 中增加 "),a("code",[n._v("<module>my-shop-commons</module>")]),n._v(" 配置")]),n._v(" "),a("h2",{attrs:{id:"创建领域模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建领域模型"}},[n._v("#")]),n._v(" "),a("strong",[n._v("创建领域模型")])]),n._v(" "),a("p",[n._v("创建一个名为 "),a("code",[n._v("my-shop-domain")]),n._v(" 的项目，"),a("code",[n._v("pom.xml")]),n._v(" 文件如下：")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <parent>\n        <groupId>com.yky</groupId>\n        <artifactId>my-shop-dependencies</artifactId>\n        <version>1.0.0-SNAPSHOT</version>\n        <relativePath>../my-shop-dependencies/pom.xml</relativePath>\n    </parent>\n\n    <artifactId>my-shop-domain</artifactId>\n    <packaging>jar</packaging>\n\n    <name>my-shop-domain</name>\n    <description></description>\n\n</project>\n')])])]),a("p",[n._v("PS：别忘记在 "),a("code",[n._v("my-shop")]),n._v(" 工程的 "),a("code",[n._v("pom.xml")]),n._v(" 中增加 "),a("code",[n._v("<module>my-shop-domain</module>")]),n._v(" 配置")]),n._v(" "),a("h2",{attrs:{id:"创建管理后台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建管理后台"}},[n._v("#")]),n._v(" "),a("strong",[n._v("创建管理后台")])]),n._v(" "),a("p",[n._v("创建一个名为 "),a("code",[n._v("my-shop-web-admin")]),n._v(" 的项目，"),a("code",[n._v("pom.xml")]),n._v(" 文件如下：")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <parent>\n        <groupId>com.yky</groupId>\n        <artifactId>my-shop-dependencies</artifactId>\n        <version>1.0.0-SNAPSHOT</version>\n        <relativePath>../my-shop-dependencies/pom.xml</relativePath>\n    </parent>\n\n    <artifactId>my-shop-web-admin</artifactId>\n    <packaging>war</packaging>\n\n    <name>my-shop-web-admin</name>\n    <description></description>\n\n    <dependencies>\n        <dependency>\n            <groupId>com.yky</groupId>\n            <artifactId>my-shop-commons</artifactId>\n            <version>${project.parent.version}</version>\n        </dependency>\n        <dependency>\n            <groupId>com.yky</groupId>\n            <artifactId>my-shop-domain</artifactId>\n            <version>${project.parent.version}</version>\n        </dependency>\n    </dependencies>\n\n</project>\n')])])]),a("p",[n._v("PS：别忘记在 "),a("code",[n._v("my-shop")]),n._v(" 工程的 "),a("code",[n._v("pom.xml")]),n._v(" 中增加 "),a("code",[n._v("<module>my-shop-web-admin</module>")]),n._v(" 配置")]),n._v(" "),a("h2",{attrs:{id:"创建商城前端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建商城前端"}},[n._v("#")]),n._v(" "),a("strong",[n._v("创建商城前端")])]),n._v(" "),a("p",[n._v("创建一个名为 "),a("code",[n._v("my-shop-web-ui")]),n._v(" 的项目，"),a("code",[n._v("pom.xml")]),n._v(" 文件如下：")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <parent>\n        <groupId>com.yky</groupId>\n        <artifactId>my-shop-dependencies</artifactId>\n        <version>1.0.0-SNAPSHOT</version>\n        <relativePath>../my-shop-dependencies/pom.xml</relativePath>\n    </parent>\n\n    <artifactId>my-shop-web-ui</artifactId>\n    <packaging>war</packaging>\n\n    <name>my-shop-web-ui</name>\n    <description></description>\n\n    <dependencies>\n        <dependency>\n            <groupId>com.yky</groupId>\n            <artifactId>my-shop-commons</artifactId>\n            <version>${project.parent.version}</version>\n        </dependency>\n    </dependencies>\n\n</project>\n')])])]),a("p",[n._v("PS：别忘记在 "),a("code",[n._v("my-shop")]),n._v(" 工程的 "),a("code",[n._v("pom.xml")]),n._v(" 中增加 "),a("code",[n._v("<module>my-shop-web-ui</module>")]),n._v(" 配置")]),n._v(" "),a("h2",{attrs:{id:"创建接口模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建接口模块"}},[n._v("#")]),n._v(" "),a("strong",[n._v("创建接口模块")])]),n._v(" "),a("p",[n._v("创建一个名为 "),a("code",[n._v("my-shop-web-api")]),n._v(" 的项目，"),a("code",[n._v("pom.xml")]),n._v(" 文件如下：")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <parent>\n        <groupId>com.yky</groupId>\n        <artifactId>my-shop-dependencies</artifactId>\n        <version>1.0.0-SNAPSHOT</version>\n        <relativePath>../my-shop-dependencies/pom.xml</relativePath>\n    </parent>\n\n    <artifactId>my-shop-web-api</artifactId>\n    <packaging>war</packaging>\n\n    <name>my-shop-web-api</name>\n    <description></description>\n\n    <dependencies>\n        <dependency>\n            <groupId>com.yky</groupId>\n            <artifactId>my-shop-commons</artifactId>\n            <version>${project.parent.version}</version>\n        </dependency>\n    </dependencies>\n\n</project>\n')])])]),a("p",[n._v("PS：别忘记在 "),a("code",[n._v("my-shop")]),n._v(" 工程的 "),a("code",[n._v("pom.xml")]),n._v(" 中增加 "),a("code",[n._v("<module>my-shop-web-api</module>")]),n._v(" 配置")]),n._v(" "),a("h2",{attrs:{id:"清理、编译、打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#清理、编译、打包"}},[n._v("#")]),n._v(" "),a("strong",[n._v("清理、编译、打包")])]),n._v(" "),a("p",[n._v("至此一个完整的模块化工程创建完毕，此时的 Root 工程 "),a("code",[n._v("pom.xml")]),n._v(" 文件如下：")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.yky</groupId>\n    <artifactId>my-shop</artifactId>\n    <version>1.0.0-SNAPSHOT</version>\n    <packaging>pom</packaging>\n\n    <modules>\n        <module>my-shop-dependencies</module>\n        <module>my-shop-commons</module>\n        <module>my-shop-domain</module>\n        <module>my-shop-web-admin</module>\n        <module>my-shop-web-ui</module>\n        <module>my-shop-web-api</module>\n    </modules>\n</project>\n')])])]),a("p",[n._v("我们可以在 Root 工程中使用 Maven 提供的 "),a("code",[n._v("mvn clean")]),n._v(" 命令测试一下效果，控制台输出如下：")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Build Order:\n[INFO] \n[INFO] my-shop                                                            [pom]\n[INFO] my-shop-dependencies                                               [pom]\n[INFO] my-shop-commons                                                    [jar]\n[INFO] my-shop-domain                                                     [jar]\n[INFO] my-shop-web-admin                                                  [war]\n[INFO] my-shop-web-ui                                                     [war]\n[INFO] my-shop-web-api                                                    [war]\n[INFO] \n[INFO] --------------------------< com.yky:my-shop >---------------------------\n[INFO] Building my-shop 1.0.0-SNAPSHOT                                    [1/7]\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ my-shop ---\n[INFO] \n[INFO] --------------------< com.yky:my-shop-dependencies >--------------------\n[INFO] Building my-shop-dependencies 1.0.0-SNAPSHOT                       [2/7]\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ my-shop-dependencies ---\n[INFO] \n[INFO] ----------------------< com.yky:my-shop-commons >-----------------------\n[INFO] Building my-shop-commons 1.0.0-SNAPSHOT                            [3/7]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ my-shop-commons ---\n[INFO] \n[INFO] -----------------------< com.yky:my-shop-domain >-----------------------\n[INFO] Building my-shop-domain 1.0.0-SNAPSHOT                             [4/7]\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ my-shop-domain ---\n[INFO] \n[INFO] ---------------------< com.yky:my-shop-web-admin >----------------------\n[INFO] Building my-shop-web-admin 1.0.0-SNAPSHOT                          [5/7]\n[INFO] --------------------------------[ war ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ my-shop-web-admin ---\n[INFO] \n[INFO] -----------------------< com.yky:my-shop-web-ui >-----------------------\n[INFO] Building my-shop-web-ui 1.0.0-SNAPSHOT                             [6/7]\n[INFO] --------------------------------[ war ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ my-shop-web-ui ---\n[INFO] \n[INFO] ----------------------< com.yky:my-shop-web-api >-----------------------\n[INFO] Building my-shop-web-api 1.0.0-SNAPSHOT                            [7/7]\n[INFO] --------------------------------[ war ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ my-shop-web-api ---\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for my-shop 1.0.0-SNAPSHOT:\n[INFO] \n[INFO] my-shop ............................................ SUCCESS [  0.216 s]\n[INFO] my-shop-dependencies ............................... SUCCESS [  0.016 s]\n[INFO] my-shop-commons .................................... SUCCESS [  0.015 s]\n[INFO] my-shop-domain ..................................... SUCCESS [  0.016 s]\n[INFO] my-shop-web-admin .................................. SUCCESS [  0.000 s]\n[INFO] my-shop-web-ui ..................................... SUCCESS [  0.032 s]\n[INFO] my-shop-web-api .................................... SUCCESS [  0.031 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.503 s\n[INFO] Finished at: 2019-12-03T17:02:12+08:00\n[INFO] ------------------------------------------------------------------------\n\n")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);