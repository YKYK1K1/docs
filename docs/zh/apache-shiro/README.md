# **Shiro**

> 为什么要⽤shiro：
> 1. 项⽬中的密码是否可以明⽂存储？
> 2. 是否任意访客，⽆论是否登录都可以访问任何功能?
> 3. 项⽬中的各种功能操作，是否是所有⽤户都可以随意使⽤？
> 
> 综上，当项⽬中的某些功能被使⽤时，需要进⾏安全校验，进⽽保证整个系统的运⾏秩序。

## **Shiro是什么？**
---

- Apache Shiro 是 Java 的⼀个安全（权限）框架。
  Shiro 可以轻松的完成：身份认证、授权、加密、会话管理等功能
- Shiro 可以⾮常容易的开发出⾜够好的应⽤，其不仅可以⽤在JavaSE 环境，也可以⽤在 JavaEE 环境。
  功能强⼤且易⽤，可以快速轻松地保护任何应⽤程序 ( 从最⼩的移动应⽤程序到最⼤的Web和企业应⽤程序。)
- ⽅便的与Web 集成和搭建缓存。
- 下载：http://shiro.apache.org/
<br />

![apache-shiro-logo](/assets/apache-shiro/apache-shiro-logo.png)

<br />

## **功能简介**
---

基本功能点如下图所示：

<br />

![apache-shiro-logo](/assets/apache-shiro/yky_20200522092437.jpeg)

<br />

``` bat
- Authentication：
    身份认证/登录，验证⽤户是不是拥有相应的身份；
- Authorization：
    授权，即权限验证，验证某个已认证的⽤户是否拥有某个权限；即判断⽤户是否能进⾏什么操作。如：验证某个⽤户是否拥有某个⻆⾊。或者细粒度的验证某个⽤户对某个资源是否具有某个权限；
-  Session Manager：
    会话管理，即⽤户登录后就是⼀次会话，在没有退出之前，它的所有信息都在会话中；会话可以是普通 JavaSE 环境，也可以是 Web 环境的；
- Cryptography：
    加密，保护数据的安全性，如密码加密存储到数据库，⽽不是明⽂存储；
- Web Support：
    Web ⽀持，可以⾮常容易的集成到Web 环境；
- Caching：
    缓存，⽐如⽤户登录后，其⽤户信息、拥有的⻆⾊/权限不必每次去查，这样可以提⾼效率；
- Remember Me：
    记住我，这个是⾮常常⻅的功能，即⼀次登录后，下次再来的话可以⽴即知道你是哪个⽤户
```

## **认证授权流程**
---

- 认证流程
    - 认证：对用户的身份进行检查(登录验证)
    - 授权：对用户的权限进行检查(是否有对应的操作权限)
    - 流程示意图：

    ![](/assets/apache-shiro/yky_20200522163822.png)

## **安全框架**
---

- 帮助我们完成用户身份认证及权限检查功能的框架
- 常用的安全框架：
    - Shiro：Apache Shiro 是一个功能强大并且易用的 Java 安全框架(小而简单)
    - Spring Security：基于 Spring 的安全框架，依赖 Spring
    - OAuth2：第三方授权登录
    - 自定义安全认证中心

## **Shiro**
---

- Apache Shiro 是一个功能强大并且易用的 Java 安全框架
- 可以完成用户认证、授权、密码以及会话管理
- 可以在任何的应用系统中使用 (主要针对单体项目的权限管理)