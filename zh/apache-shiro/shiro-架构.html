<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Shiro 工作原理 | 七伊</title>
    <meta name="description" content="七伊的博客">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/docs/favicon.ico">
  <link rel="manifest" href="/docs/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/docs/icons/192x192.png">
  <link rel="mask-icon" href="/docs/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="author" content="七伊">
  <meta name="keywords" content="vuepress 介绍，vuepress 说明，七伊">
    
    <link rel="preload" href="/docs/assets/css/0.styles.35d8fede.css" as="style"><link rel="preload" href="/docs/assets/js/app.8a748de2.js" as="script"><link rel="preload" href="/docs/assets/js/2.a772b342.js" as="script"><link rel="preload" href="/docs/assets/js/21.470029c0.js" as="script"><link rel="preload" href="/docs/assets/js/3.318575c0.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.48c08d70.js"><link rel="prefetch" href="/docs/assets/js/100.31f4f587.js"><link rel="prefetch" href="/docs/assets/js/101.3a5d09ab.js"><link rel="prefetch" href="/docs/assets/js/102.3f4bdca5.js"><link rel="prefetch" href="/docs/assets/js/103.d3ea5566.js"><link rel="prefetch" href="/docs/assets/js/104.c21ffabf.js"><link rel="prefetch" href="/docs/assets/js/105.2b0c1d17.js"><link rel="prefetch" href="/docs/assets/js/11.04529c8f.js"><link rel="prefetch" href="/docs/assets/js/12.3f1edc2d.js"><link rel="prefetch" href="/docs/assets/js/13.c3bee8d7.js"><link rel="prefetch" href="/docs/assets/js/14.6293b2b4.js"><link rel="prefetch" href="/docs/assets/js/15.7f4a8446.js"><link rel="prefetch" href="/docs/assets/js/16.eda0a3b7.js"><link rel="prefetch" href="/docs/assets/js/17.cb02c9c4.js"><link rel="prefetch" href="/docs/assets/js/18.d869fa46.js"><link rel="prefetch" href="/docs/assets/js/19.a0e5b08a.js"><link rel="prefetch" href="/docs/assets/js/20.fbd38832.js"><link rel="prefetch" href="/docs/assets/js/22.724bec9d.js"><link rel="prefetch" href="/docs/assets/js/23.81227d75.js"><link rel="prefetch" href="/docs/assets/js/24.89a3c8b5.js"><link rel="prefetch" href="/docs/assets/js/25.1911d3b9.js"><link rel="prefetch" href="/docs/assets/js/26.6a2a48ea.js"><link rel="prefetch" href="/docs/assets/js/27.14fee594.js"><link rel="prefetch" href="/docs/assets/js/28.d47473d1.js"><link rel="prefetch" href="/docs/assets/js/29.fd63b927.js"><link rel="prefetch" href="/docs/assets/js/30.cf3b7db3.js"><link rel="prefetch" href="/docs/assets/js/31.072dedc7.js"><link rel="prefetch" href="/docs/assets/js/32.e32bf6e6.js"><link rel="prefetch" href="/docs/assets/js/33.2072ada3.js"><link rel="prefetch" href="/docs/assets/js/34.efd56ab8.js"><link rel="prefetch" href="/docs/assets/js/35.507f9dfd.js"><link rel="prefetch" href="/docs/assets/js/36.e5482636.js"><link rel="prefetch" href="/docs/assets/js/37.68cee4f7.js"><link rel="prefetch" href="/docs/assets/js/38.42c35705.js"><link rel="prefetch" href="/docs/assets/js/39.6559180a.js"><link rel="prefetch" href="/docs/assets/js/4.e559a794.js"><link rel="prefetch" href="/docs/assets/js/40.512d1e10.js"><link rel="prefetch" href="/docs/assets/js/41.35c70798.js"><link rel="prefetch" href="/docs/assets/js/42.7ea7a91e.js"><link rel="prefetch" href="/docs/assets/js/43.bff16cb4.js"><link rel="prefetch" href="/docs/assets/js/44.b460ef45.js"><link rel="prefetch" href="/docs/assets/js/45.719f5d4b.js"><link rel="prefetch" href="/docs/assets/js/46.a98859c0.js"><link rel="prefetch" href="/docs/assets/js/47.f82b4e26.js"><link rel="prefetch" href="/docs/assets/js/48.142909d8.js"><link rel="prefetch" href="/docs/assets/js/49.234d192b.js"><link rel="prefetch" href="/docs/assets/js/5.2db0d042.js"><link rel="prefetch" href="/docs/assets/js/50.741634c5.js"><link rel="prefetch" href="/docs/assets/js/51.f242ba1d.js"><link rel="prefetch" href="/docs/assets/js/52.30ed35db.js"><link rel="prefetch" href="/docs/assets/js/53.5437bd2b.js"><link rel="prefetch" href="/docs/assets/js/54.196cb688.js"><link rel="prefetch" href="/docs/assets/js/55.3f4939ce.js"><link rel="prefetch" href="/docs/assets/js/56.f0db9799.js"><link rel="prefetch" href="/docs/assets/js/57.98aed42e.js"><link rel="prefetch" href="/docs/assets/js/58.23ae6264.js"><link rel="prefetch" href="/docs/assets/js/59.4d070ee9.js"><link rel="prefetch" href="/docs/assets/js/6.94a10221.js"><link rel="prefetch" href="/docs/assets/js/60.7d981c9a.js"><link rel="prefetch" href="/docs/assets/js/61.7fcf795a.js"><link rel="prefetch" href="/docs/assets/js/62.eaca034c.js"><link rel="prefetch" href="/docs/assets/js/63.91a6fb3a.js"><link rel="prefetch" href="/docs/assets/js/64.f1bb51af.js"><link rel="prefetch" href="/docs/assets/js/65.3e74438f.js"><link rel="prefetch" href="/docs/assets/js/66.28305fb6.js"><link rel="prefetch" href="/docs/assets/js/67.e0e26571.js"><link rel="prefetch" href="/docs/assets/js/68.e071d5d9.js"><link rel="prefetch" href="/docs/assets/js/69.67124035.js"><link rel="prefetch" href="/docs/assets/js/7.81f19ebc.js"><link rel="prefetch" href="/docs/assets/js/70.87f611d5.js"><link rel="prefetch" href="/docs/assets/js/71.01f0c5ba.js"><link rel="prefetch" href="/docs/assets/js/72.43832bbd.js"><link rel="prefetch" href="/docs/assets/js/73.fb03e2ae.js"><link rel="prefetch" href="/docs/assets/js/74.a075a286.js"><link rel="prefetch" href="/docs/assets/js/75.e8953cff.js"><link rel="prefetch" href="/docs/assets/js/76.80364208.js"><link rel="prefetch" href="/docs/assets/js/77.1c348a0f.js"><link rel="prefetch" href="/docs/assets/js/78.7c98b4e1.js"><link rel="prefetch" href="/docs/assets/js/79.f11cbac6.js"><link rel="prefetch" href="/docs/assets/js/8.db2b4fcb.js"><link rel="prefetch" href="/docs/assets/js/80.51439a0f.js"><link rel="prefetch" href="/docs/assets/js/81.15cbd757.js"><link rel="prefetch" href="/docs/assets/js/82.92f02c4a.js"><link rel="prefetch" href="/docs/assets/js/83.e5515407.js"><link rel="prefetch" href="/docs/assets/js/84.8b2222cd.js"><link rel="prefetch" href="/docs/assets/js/85.e6c5ecde.js"><link rel="prefetch" href="/docs/assets/js/86.efd7b9af.js"><link rel="prefetch" href="/docs/assets/js/87.2064fade.js"><link rel="prefetch" href="/docs/assets/js/88.a923a517.js"><link rel="prefetch" href="/docs/assets/js/89.955c01c2.js"><link rel="prefetch" href="/docs/assets/js/9.d4c0e7b4.js"><link rel="prefetch" href="/docs/assets/js/90.8db6e761.js"><link rel="prefetch" href="/docs/assets/js/91.beaefdae.js"><link rel="prefetch" href="/docs/assets/js/92.10535c11.js"><link rel="prefetch" href="/docs/assets/js/93.098ec0d4.js"><link rel="prefetch" href="/docs/assets/js/94.f664308d.js"><link rel="prefetch" href="/docs/assets/js/95.f0bc778c.js"><link rel="prefetch" href="/docs/assets/js/96.708f53d2.js"><link rel="prefetch" href="/docs/assets/js/97.cb6a5ec0.js"><link rel="prefetch" href="/docs/assets/js/98.f2d832aa.js"><link rel="prefetch" href="/docs/assets/js/99.aa46a8d2.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.35d8fede.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="ant-row"><div class="sidebar-button"><i aria-label="icon: bars" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i> <span></span></div> <div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-5 ant-col-xl-5 ant-col-xxl-4"><a href="/docs/" class="router-link-active home-link"><img src="/docs/assets/img/hero.png" alt="七伊" class="logo"> <span class="site-name">七伊</span></a> <div class="search-box mobile-search"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-19 ant-col-xl-19 ant-col-xxl-20"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><ul role="menu" id="nav" class="ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/docs/zh/guide/">
          指南
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          在线文档
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          工作软件
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          在线工具
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          在线编辑器
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/docs/zh/changelog/">
          Change Log
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <!----></nav></div></div> <!----></header> <aside class="sidebar"><!----> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Shiro</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/zh/apache-shiro/小知识点-权限管理.html" class="sidebar-link">小知识点：权限管理</a></li><li><a href="/docs/zh/apache-shiro/" class="sidebar-link">Shiro 介绍</a></li><li><a href="/docs/zh/apache-shiro/shiro-架构.html" class="active sidebar-link">shiro 架构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/zh/apache-shiro/shiro-架构.html#shiro-核心功能" class="sidebar-link">Shiro 核心功能</a></li><li class="sidebar-sub-header"><a href="/docs/zh/apache-shiro/shiro-架构.html#⼯作流程" class="sidebar-link">⼯作流程</a></li><li class="sidebar-sub-header"><a href="/docs/zh/apache-shiro/shiro-架构.html#shiro-核心组件" class="sidebar-link">Shiro 核心组件</a></li><li class="sidebar-sub-header"><a href="/docs/zh/apache-shiro/shiro-架构.html#rbac模型" class="sidebar-link">RBAC模型</a></li><li class="sidebar-sub-header"><a href="/docs/zh/apache-shiro/shiro-架构.html#架构-了解" class="sidebar-link">架构(了解)</a></li></ul></li><li><a href="/docs/zh/apache-shiro/基于JavaSE应用-Shiro-的基本使用.html" class="sidebar-link">基于 JavaSE 应用</a></li><li><a href="/docs/zh/apache-shiro/Shiro-认证流程.html" class="sidebar-link">Shiro 认证流程</a></li><li><a href="/docs/zh/apache-shiro/SpringBoot-应用整合-Shiro-案例.html" class="sidebar-link">SpringBoot 应用整合 Shiro</a></li><li><a href="/docs/zh/apache-shiro/shiro-的标签使用.html" class="sidebar-link">Shiro 的标签使用</a></li><li><a href="/docs/zh/apache-shiro/SpringBoot-整合-Shiro-完成权限管理案例.html" class="sidebar-link">Shiro 自定义 Realm</a></li><li><a href="/docs/zh/apache-shiro/密码加密介绍.html" class="sidebar-link">密码加密介绍</a></li><li><a href="/docs/zh/apache-shiro/缓存使用.html" class="sidebar-link">缓存使用</a></li><li><a href="/docs/zh/apache-shiro/session-管理.html" class="sidebar-link">Session 管理</a></li><li><a href="/docs/zh/apache-shiro/RememberMe.html" class="sidebar-link">Remember Me</a></li></ul></section></li></ul></aside> <main class="page"> <div class="theme-antdocs-content content__default"><h1 id="shiro-工作原理"><a href="#shiro-工作原理" class="header-anchor">#</a> <strong>Shiro 工作原理</strong></h1> <h2 id="shiro-核心功能"><a href="#shiro-核心功能" class="header-anchor">#</a> <strong>Shiro 核心功能</strong></h2> <hr> <br> <p><img src="/docs/assets/apache-shiro/yky_20200423151533733.png" alt=""></p> <br> <ul><li>Anthentication 认证，验证用户是否有相应的身份-登录验证;</li> <li>Authorization 授权，即权限验证：对已经通过认证的用户检查是否具有某个权限或者角色，从而控制是否能够进行某种操;</li> <li>SessionManagement 会话管理，用户在认证成功之后创建会话，在没有退出之前，当前用户的所有信息都会保存在这个会话中;可以是普通的 JavaSE 应用，也可以是 Web 应用;</li> <li>Cryptography 加密，对敏感信息进行加密处理, Shiro 提供了这种加密的机制;
支持的特性：
<ul><li>Web Support —— Shiro 提供了过滤器，可以通过过滤器拦截 Web 请求来处理 Web 应用的访问控制</li> <li>Caching 缓存支持, Shiro 可以缓存用户信息以及用户的角色权限信息，可以提高执行效率</li> <li>Concurrency 支持多线程应用</li> <li>Testing 提供测试支持</li> <li>Run As 允许一个用户以另一种身份去访问</li> <li>Remeber Me 记住密码</li></ul></li></ul> <blockquote><p>特别说明：
Shiro 是一个安全框架，不提供用户、权限的维护（用户的权限管理需要我们自己去设计）</p></blockquote> <h2 id="⼯作流程"><a href="#⼯作流程" class="header-anchor">#</a> <strong>⼯作流程</strong></h2> <hr> <blockquote><p>shiro 运⾏流程中，3个核⼼的组件:</p> <p><strong>Subject、SecutiryManager、Realm</strong></p> <p>shiro使⽤中，必须有的3个概念！！</p></blockquote> <br> <p><img src="/docs/assets/apache-shiro/image4.jpeg" alt=""></p> <br> <ul><li><p>Subject</p> <p>安全校验中，最常⻅的问题是&quot;当前⽤户是谁?&quot; &quot;当前⽤户是否有权做x事?&quot;,所以考虑安全校验过程最⾃然的⽅式就是基于当前⽤户。</p> <p>Subject 代表了当前“⽤户”，应⽤代码直接交互的对象是 Subject，只要得到Subject对象⻢上可以做绝⼤多数的shiro操作。</p> <p>也就是说 Shiro 的对外API 核⼼就是 Subject。</p> <p>Subject 会将所有交互都会委托给 SecurityManager。</p> <p><strong>Subject是安全管理中直接操作的对象</strong></p></li> <li><p>SecurityManager</p> <p>安全管理器；即所有与安全有关的操作都会与SecurityManager 交互；</p> <p>且其管理着所有 Subject；它是 Shiro的核⼼，</p> <p>它负责与 Shiro 的其他组件进⾏交互，它相当于 SpringMVC 中DispatcherServlet 的⻆⾊</p></li> <li><p>Realm</p> <p>Shiro 从 Realm 获取安全数据（如⽤户、⻆⾊、权限），就是说SecurityManager 要验证⽤户身份，那么</p> <p>它需要从 Realm 获取相应的⽤户进⾏⽐较以确定⽤户身份是否合法；</p> <p>也需要从 Realm 得到⽤户相应的⻆⾊/权限进⾏验证⽤户是否能进⾏操作；</p> <p>可以把 Realm 看成 DAO，( 数据访问⼊⼝ )</p></li></ul> <h2 id="shiro-核心组件"><a href="#shiro-核心组件" class="header-anchor">#</a> <strong>Shiro 核心组件</strong></h2> <hr> <p><img src="/docs/assets/apache-shiro/yky_13495408237665.jpg" alt=""></p> <ul><li>Shiro三大核心组件：Subject、Security Manager、Realms
<ul><li>Subject，表示待认证和授权的用户</li> <li>Security Manager，它是 Shiro 框架的核心，Shiro 就是通过Security Manager 来进行内部实例的管理，并通过它来提供安全管理的各种服务。
<ul><li>Authenticator，认证器</li> <li>Anthorizer，授权器</li> <li>SessionManager，会话管理器</li> <li>CacheManager，缓存管理器</li></ul></li> <li>Realms，相当于 Shiro 进行认证和授权的数据源，充当了 Shiro 与安全数据之间的 &quot;桥梁&quot; 或者 &quot;连接器&quot;。也就是说，当对用户进行认证(登录)和授权（访问控制）验证时，Shiro 会用应用配置的 Realm 中查找用户及其权限信息 (也有多 Realms 配置)。</li></ul></li></ul> <p><img src="/docs/assets/apache-shiro/yky_20200423163414191.png" alt=""></p> <h2 id="rbac模型"><a href="#rbac模型" class="header-anchor">#</a> <strong>RBAC模型</strong></h2> <hr> <blockquote><p><strong>Role Base Access Controll 基于⻆⾊的访问控制</strong></p></blockquote> <blockquote><p><strong>shiro 采⽤的安全管理 模型。将用户和权限做了解耦</strong></p></blockquote> <blockquote><p><strong>模型中3个主体：⽤户、⻆⾊、权限</strong></p> <p><strong>每个⻆⾊可以有多个权限，每个权限可以分配给多个⻆⾊</strong></p> <p><strong>每个⽤户可以有多个⻆⾊，每个⻆⾊可以分配给多个⽤户</strong></p> <p><em><strong>两个多对多</strong></em></p></blockquote> <p><img src="/docs/assets/apache-shiro/image5.jpeg" alt=""></p> <blockquote><p><strong>则权限访问控制，做的事是：</strong></p> <ol><li><strong>身份校验：判断是否为合法⽤户</strong></li> <li><strong>权限校验：⽤户要做做某件事或使⽤某些资源，必须要拥有某⻆⾊，或必须拥有某权限</strong></li></ol></blockquote> <blockquote><p><strong>在访问控制管理过程中，是要对项⽬中的资源(功能，数据，⻚⾯元素等)的访问、使⽤进⾏安全管理。</strong></p> <ul><li><p>1&gt; <strong>⾸先照旧记录⽤户信息</strong></p></li> <li><p>2&gt; <strong>然后制定⻆⾊</strong></p> <p>如 &quot; 学员 &quot;，&quot; 讲师 &quot;，&quot; 保洁员 &quot;</p></li> <li><p>3&gt; <strong>然后会对&quot;资源&quot;制定权限：即能对资源做的所有操作</strong></p> <p>如 &quot; 教室 &quot; -资源, &quot; 进⼊教室 &quot; ， &quot; 在教室学习 &quot; ，就是该资源的两个权限。</p></li> <li><p>4&gt; <strong>然后将权限分配给不同⻆⾊</strong></p> <p>如 &quot; 进⼊教室 &quot; 分配给 &quot; 学员 &quot;，&quot; 讲师 &quot;，&quot; 保洁员 &quot; 三种⻆⾊</p> <p>&quot; 在教室学习 &quot; 分配给 &quot; 学员 &quot; ⻆⾊</p></li> <li><p>5&gt; <strong>最后将⻆⾊分配给具体⽤户</strong></p> <p>如 &quot; 张三 &quot; 报名后分配 &quot; 学员 &quot; ⻆⾊</p> <p>&quot; 李四 &quot; ⼊职学校分配 &quot; 保洁员 &quot; ⻆⾊</p></li> <li><p>6&gt; <strong>如此完成对 ⽤户(李四，张三)使⽤某资源的访问控制</strong></p> <p>则：张三能不能进教室？李四能不能在教室学习？</p></li></ul></blockquote> <h2 id="架构-了解"><a href="#架构-了解" class="header-anchor">#</a> <strong>架构(了解)</strong></h2> <hr> <blockquote><p><strong>简单了解，在对 shiro 有了完整得应用体验后可以重点了解！</strong></p></blockquote> <p><img src="/docs/assets/aoache-shiro/image6.jpeg" alt=""></p> <ul><li><p>Subject：</p> <p>任何可以与应⽤交互的“⽤户”；</p></li> <li><p>SecurityManager：</p> <p>相当于SpringMVC 中的 DispatcherServlet；是 Shiro 的⼼脏；</p> <p>所有具体的交互都通过 SecurityManager 进⾏控制；它管理着所有 Subject、且负责进⾏认证、授权、会话及缓存的管理。</p></li> <li><p>Authenticator：</p> <p>负责 Subject 身份认证，是⼀个扩展点，可以⾃定义实现；可以使⽤认证策略（Authentication Strategy），即什么情况下算⽤户认证通过了；</p></li> <li><p>Authorizer：</p> <p>授权器、即访问控制器，⽤来决定主体是否有权限进⾏相应的操作；即控制着⽤户能访问应⽤中的哪些功能；</p></li> <li><p>Realm：</p> <p>可以有 1 个或多个 Realm，可以认为是安全实体数据源，即⽤于获取安全实体的；可以是JDBC 实现，也可以是内存实现等等；由⽤户提供；所以⼀般在应⽤中都需要实现⾃⼰的 Realm；</p></li> <li><p>SessionManager：</p> <p>管理 Session ⽣命周期的组件；⽽ Shiro 并不仅仅可以⽤在 Web环境，也可以⽤在如普通的 JavaSE 环境</p></li> <li><p>CacheManager：</p> <p>缓存控制器，来管理如⽤户、⻆⾊、权限等的缓存的；因为这些数据基本上很少改变，放到缓存中后可以提⾼访问的性能</p></li> <li><p>Cryptography：</p> <p>密码模块，Shiro 提供了⼀些常⻅的加密组件⽤于如密码加密/解密。</p></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2020年6月16日星期二凌晨3点34分</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/docs/zh/apache-shiro/" class="prev router-link-active"><i aria-label="icon: left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></i>
        Shiro 介绍
      </a></span> <span class="next"><a href="/docs/zh/apache-shiro/基于JavaSE应用-Shiro-的基本使用.html">
        基于 JavaSE 应用
        <i aria-label="icon: right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i></a></span></p></div> </main> <!----></div><div class="global-ui"><!----><!----></div></div>
    <script src="/docs/assets/js/app.8a748de2.js" defer></script><script src="/docs/assets/js/2.a772b342.js" defer></script><script src="/docs/assets/js/21.470029c0.js" defer></script><script src="/docs/assets/js/3.318575c0.js" defer></script>
  </body>
</html>